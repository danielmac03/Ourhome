<div class="container layout-shadow layout-1000 p-5">

  <div class="my-5"></div>

  <form (ngSubmit)="onSubmitProfilePicture()">
    <div class="row mb-4">

      <div class="col-md-4">
        <h3>Foto de perfil</h3>
      </div>

      <div class="col-md-8 mb-4">
        <div class="row">
          <div class="col-md-4">
            <div *ngIf="profilePicture === undefined && user['profilePicture'] != null">
              <img src="data:image/png;base64,{{ user['profilePicture'] }}" class="rounded-circle" width="150"
                   height="150" alt="Profile picture">
            </div>

            <div *ngIf="profilePicture !== undefined">
              <img src="{{ profilePicturePreview }}" class="rounded-circle" width="150"
                   height="150" alt="Profile picture">
            </div>
          </div>

          <div class="col-md-8 mt-auto">
            <label for="profilePicture">Seleccionar imagen de perfil:</label>
            <br>
            <input type="file" id="profilePicture" (change)="onFileChange($event)">
          </div>
        </div>

        <button type="submit" class="btn btn-custom d-flex ml-auto my-4">Actualizar</button>
      </div>
    </div>
  </form>
  <hr>

  <form #form="ngForm" (ngSubmit)="onSubmitUser(form)">
    <div class="row mb-4">

      <div class="col-md-4 mb-4">
        <h3>Datos personales</h3>
      </div>

      <div class="col-md-8 mb-4">
        <mat-form-field>
          <input matInput type="text" id="name" name="name" required
                 [(ngModel)]="user['name']">
          <mat-label for="name">Nombre</mat-label>
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" id="surnames" name="surnames" required
                 [(ngModel)]="user['surnames']">
          <mat-label for="surnames">Apellidos</mat-label>
        </mat-form-field>

        <mat-form-field>
          <input matInput type="text" id="description" name="description" required
                 [(ngModel)]="user['description']">
          <mat-label for="description">Descripcion</mat-label>
        </mat-form-field>

        <mat-form-field>
          <input matInput type="email" id="email" name="email" required
                 [(ngModel)]="user['email']">
          <mat-label for="email">Correo</mat-label>
        </mat-form-field>

        <mat-form-field>
          <input matInput type="password" id="password" name="password"
                 autocomplete="on"
                 required ngModel>
          <mat-label for="password">Contraseña</mat-label>
        </mat-form-field>

        <div class="row">
          <div class="col-md-6">
            <mat-form-field>
              <input matInput type="tel" id="phone" name="phone" maxlength="9"
                     [(ngModel)]="user['phone']">
              <mat-label for="phone">Teléfono</mat-label>
            </mat-form-field>
          </div>

          <div class="col-md-6">
            <mat-form-field>
              <input matInput type="date" id="birthdate" name="birthdate" required
                     [(ngModel)]="user['birthday']">
              <mat-label for="birthdate">Fecha de nacimiento</mat-label>
            </mat-form-field>
          </div>
        </div>

      </div>
    </div>

    <hr>

    <div class="row mb-4">

      <div class="col-md-4 mb-4">
        <h3>Comunicación con usuarios</h3>
      </div>

      <div class="col-md-8 mb-4">

        <div class="form-check">

          <div *ngIf="(user['showPhone'] == true)">
            <input id="showPhone" name="showPhone" type="checkbox" class="form-check-input matInput" checked
                   [value]="1"
                   [(ngModel)]="user['showPhone']">
          </div>

          <div *ngIf="(user['showPhone'] == false)">
            <input name="showPhone" type="checkbox" class="form-check-input matInput" [value]="0"
                   [(ngModel)]="user['showPhone']">
          </div>

          <label class="form-check-label" for="showPhone">
            Mostrar teléfono para contactar
          </label>

        </div>

      </div>

    </div>

    <button type="submit" class="btn btn-custom btn-block w-75 mx-auto mb-4">Actualizar</button>
  </form>
</div>
