<div class="container div-form my-5 p-5">

  <img src="assets/img/color1-logo.png" class="logo_ourhome mx-auto d-block" alt="Logo OURHOME">

  <div class="my-3"></div>

  <form #data="ngForm" (ngSubmit)="onSubmit(data)" ngNativeValidate>
    <mat-horizontal-stepper linear #stepper>
      <mat-step>
        <ng-template matStepLabel>Información basicos</ng-template>

        <div class="form-group text-right" *ngIf="create === false">
          <div class="form-check">
            <input *ngIf="home['active'] == true" type="checkbox" id="active" name="active" class="form-check-input" checked [value]="true"  [(ngModel)]="home['active']">
            <input *ngIf="home['active'] == false" type="checkbox" id="active" name="active" class="form-check-input" [value]="true" [(ngModel)]="home['active']">
            <label class="form-check-label" for="active">
              Activo
            </label>
          </div>
        </div>

        <div class="form-group field">
          <textarea id="description" name="description" placeholder=" " class="form-control" required
                    [(ngModel)]="home['description']"></textarea>
          <label for="description">Descripción*</label>
        </div>

        <div class="form-group field">
          <input type="number" id="price" name="price" placeholder=" " class="form-control" required [(ngModel)]="home['price']">
          <label for="price">Precio*</label>
        </div>

        <div class="mt-4 float-right">
          <button mat-button matStepperNext type="button">Siguiente</button>
        </div>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Información avanzados</ng-template>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group field">
              <input type="number" id="numBedrooms" name="numBedrooms" placeholder=" " class="form-control" [(ngModel)]="home['numBedrooms']">
              <label for="numBedrooms">Numero Habitaciones</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-group field">
              <input type="number" id="numBathroom" name="numBathroom" placeholder=" " class="form-control" [(ngModel)]="home['numBathroom']">
              <label for="numBathroom">Numero Baños</label>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-md-6">
            <div class="form-group field">
              <input type="number" id="meters" name="meters" placeholder=" " class="form-control" [(ngModel)]="home['meters']">
              <label for="meters">Metros cuadrados</label>
            </div>
          </div>

          <div class="col-md-6">
            <div class="form-group field">
              <input type="number" id="floors" name="floors" placeholder=" " class="form-control" [(ngModel)]="home['floors']">
              <label for="floors">Numero Plantas</label>
            </div>
          </div>
        </div>

        <div class="form-group field">
          <input type="text" id="direction" name="direction" placeholder=" " class="form-control" [(ngModel)]="home['direction']">
          <label for="direction">Dirección*</label>
        </div>

        <div class="form-group field">
          <input type="text" id="city" name="city" placeholder=" " class="form-control" [(ngModel)]="home['city']">
          <label for="city">Ciudad</label>
        </div>

        <div class="form-group field">
          <textarea id="additional" name="additional" placeholder=" " class="form-control" required [(ngModel)]="home['additional']"></textarea>
          <label for="additional">Extras*</label>
        </div>

        <div class="mt-4 float-right">
          <button mat-button matStepperPrevious type="button">Atrás</button>
          <button mat-button matStepperNext type="button">Siguiente</button>
        </div>
      </mat-step>

      <mat-step>
        <ng-template matStepLabel>Subir fotografías</ng-template>

        <!-- Show preview in creation mode -->
        <div *ngIf="photos.length !== 0">
          <div class="d-inline-block" *ngFor="let photoPreview of photosPreview">
            <img src="{{photoPreview}}" width="180">
          </div>
        </div>

        <!-- Show preview in edition mode -->
        <div *ngIf="photos.length === 0 && home['photos'] != null">
          <div class="d-inline-block" *ngFor="let photo of home['photos']">
            <img src="data:image/png;base64,{{photo}}" width="180">
          </div>
        </div>

        <div class="form-group field">
          <input type="file" id="photos" name="photos" placeholder=" " class="form-control" multiple
                 (change)="onFileChange($event)">
          <label for="photos">Fotos:</label>
        </div>

        <button type="submit" class="btn btn-custom btn-block w-75 mx-auto my-5">Publicar</button>
      </mat-step>
    </mat-horizontal-stepper>
  </form>
</div>
